import mongoose, { Schema } from "mongoose"

const MODEL_NAME = "player"

const schema = new Schema(
	{
		createdDate: Date,
		displayName: String,
		urlSafeName: String,
		viewCount: {
			type: Schema.Types.Number,
			default: 0
		},
		games: [],
		kits: [],
		meta: {
			brandColors: {
				primary: ""
			},
			stripeId: {
				type: String,
				default: "",
				optional: true
			},
			premiumType: {
				type: String,
				default: "",
				optional: true
			},
			profileImage: String,
			hasProfileImage: {
				type: Schema.Types.Boolean,
				default: false
			},
			links: {
				type: Schema.Types.Mixed,
				default: {}
			},
			youtubeAutoplay: Boolean
		},
		managers: [],
		overlay: {},
		previousUpdater: String
	},
	{ minimize: false }
)

const Model = mongoose.models[MODEL_NAME] || mongoose.model(MODEL_NAME, schema)

export default Model
